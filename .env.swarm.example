# ArduPilot Multi-Vehicle Swarm Configuration
# =============================================
# Copy this file to .env.swarm and modify as needed:
#   cp .env.swarm.example .env.swarm
#
# Usage:
#   docker-compose -f docker-compose.swarm.yml --env-file .env.swarm up

# ==========================================
# Global Settings
# ==========================================

# Simulation speedup (1 = real-time, 10 = 10x faster)
SPEEDUP=1

# IP address of external simulator (Gazebo)
# Leave as 127.0.0.1 for local simulation
SIM_ADDRESS=127.0.0.1

# Wipe EEPROM on startup (1 = wipe, 0 = keep)
WIPE=0

# Synthetic clock for faster-than-realtime
SYNTHETIC_CLOCK=0

# ==========================================
# ROS2/DDS Global Settings
# ==========================================

# Enable DDS for all vehicles
ENABLE_DDS=1

# Micro ROS Agent IP address
# Each vehicle connects to the same agent on different ports
DDS_IP0=127
DDS_IP1=0
DDS_IP2=0
DDS_IP3=1

# ROS_DOMAIN_ID (must match ROS2 agent)
DDS_DOMAIN_ID=0

# DDS connection settings
DDS_TIMEOUT_MS=2000
DDS_MAX_RETRY=0

# ==========================================
# Copter 1 Configuration
# ==========================================
# Instance: 0
# MAVLink Port: 5760
# SITL Port: 5501
# DDS Port: 2019

COPTER1_MODEL=quad
COPTER1_SYSID=1

# Home location: lat,lon,alt,heading
# Leave empty for default
# Example: 35.363261,149.165230,584,353
COPTER1_HOME=

# ==========================================
# Copter 2 Configuration
# ==========================================
# Instance: 1
# MAVLink Port: 5770
# SITL Port: 5511
# DDS Port: 2029

COPTER2_MODEL=hexa
COPTER2_SYSID=2

# Offset from Copter 1 (meters north, meters east)
# Example: Start 10 meters east of Copter 1
# COPTER2_HOME=35.363261,149.165330,584,353
COPTER2_HOME=

# ==========================================
# Plane 1 Configuration
# ==========================================
# Instance: 2
# MAVLink Port: 5780
# SITL Port: 5521
# DDS Port: 2039

PLANE1_MODEL=plane
PLANE1_SYSID=3

# Planes need different altitude for safety
# PLANE1_HOME=35.363261,149.165230,684,353
PLANE1_HOME=

# ==========================================
# VTOL 1 Configuration
# ==========================================
# Instance: 3
# MAVLink Port: 5790
# SITL Port: 5531
# DDS Port: 2049

VTOL1_MODEL=quadplane
VTOL1_SYSID=4

# VTOL1_HOME=35.363361,149.165230,584,353
VTOL1_HOME=

# ==========================================
# Port Reference
# ==========================================
# Each instance offsets ports by 10 * instance_number
#
# Instance 0 (Copter 1):
#   - MAVLink: 5760 TCP
#   - SITL: 5501 UDP
#   - DDS: 2019 UDP
#   - GCS: 14550 UDP
#
# Instance 1 (Copter 2):
#   - MAVLink: 5770 TCP
#   - SITL: 5511 UDP
#   - DDS: 2029 UDP
#   - GCS: 14560 UDP
#
# Instance 2 (Plane 1):
#   - MAVLink: 5780 TCP
#   - SITL: 5521 UDP
#   - DDS: 2039 UDP
#   - GCS: 14570 UDP
#
# Instance 3 (VTOL 1):
#   - MAVLink: 5790 TCP
#   - SITL: 5531 UDP
#   - DDS: 2049 UDP
#   - GCS: 14580 UDP

# ==========================================
# Vehicle Type Options
# ==========================================
# ArduCopter models: quad, hexa, octa, tri, y6, X, +, V, H
# ArduPlane models: plane, quadplane, plane-elevon, plane-vtail
# ArduRover models: rover, boat
# ArduSub models: vectored

# ==========================================
# Examples for Different Swarm Types
# ==========================================

# Example 1: All Quadcopters (Search & Rescue)
# COPTER1_MODEL=quad
# COPTER2_MODEL=quad
# Disable plane-1 and vtol-1 services in docker-compose.swarm.yml

# Example 2: Mixed Fleet (Delivery Service)
# COPTER1_MODEL=quad (delivery)
# COPTER2_MODEL=hexa (heavy lift)
# PLANE1_MODEL=plane (long range)
# VTOL1_MODEL=quadplane (versatile)

# Example 3: Formation Flying
# COPTER1_MODEL=quad
# COPTER2_MODEL=quad
# Set HOME locations in formation pattern
# COPTER1_HOME=35.363261,149.165230,584,0
# COPTER2_HOME=35.363261,149.165240,584,0  # 10m east
